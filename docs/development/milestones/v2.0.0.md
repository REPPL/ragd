# Milestone: v2.0.0 - Personal Knowledge Assistant

Transform ragd from a document RAG system into a personal knowledge assistant with persistent memory, user profiles, and secure personal data storage.

## Goal

Extend ragd with personal knowledge management capabilities. Persistent memory enables context across sessions, user profiles personalise retrieval, and the Personal Vault securely stores sensitive personal data (browser history, communications, health records).

## Theme

**"Remember Everything, Securely"** - Personal, intelligent, private.

## Use Cases Addressed

| Use Case | Description | Status |
|----------|-------------|--------|
| Persistent Memory | Remember context across sessions | ðŸ“‹ Planned |
| Personalised Search | Results adapted to user preferences | ðŸ“‹ Planned |
| Query History | "What did I search for last week?" | ðŸ“‹ Planned |
| Personal Data Search | Search browser history, emails | ðŸ“‹ Planned |
| Secure Data Vault | Store sensitive data separately | ðŸ“‹ Planned |

## Development Phases

### v2.0-alpha: Memory Layer

| Feature | Description | Status |
|---------|-------------|--------|
| F-040: Long-Term Memory | Semantic, episodic, procedural memory | ðŸ“‹ Planned |
| F-043: Memory Consolidation | Compress and merge memories | ðŸ“‹ Planned |

### v2.0-beta: Persona Agents

| Feature | Description | Status |
|---------|-------------|--------|
| F-041: User Profile Management | Explicit and behavioural profiles | ðŸ“‹ Planned |
| F-042: Persona Agent System | User-centric retrieval agents | ðŸ“‹ Planned |

### v2.0: Personal Vault

| Feature | Description | Status |
|---------|-------------|--------|
| F-044: Personal Information Vault | Secure personal data store | ðŸ“‹ Planned |

## Dependencies

- **v1.6.0** - Fine-Tuning must be complete
- **F-015** - Database Encryption (from v0.7)
- **F-022** - Knowledge Graph (from v0.8)
- **F-023** - PII Detection (from v0.7)

## Architecture Decisions

| ADR | Decision | Status |
|-----|----------|--------|
| ADR-0020 | Memory Storage Architecture | ðŸ“‹ Planned |
| ADR-0021 | Persona Agent Framework | ðŸ“‹ Planned |
| ADR-0022 | Personal Vault Isolation | âœ… Accepted |

## Technology Stack

| Component | Technology |
|-----------|------------|
| Memory Storage | ChromaDB + Kuzu + SQLite |
| Encryption | SQLCipher (AES-256-GCM) |
| Key Derivation | Argon2id |
| Profile Storage | Encrypted SQLite |
| PII Detection | Microsoft Presidio |

## Success Criteria

- [ ] Memory persists across sessions
- [ ] User profile captures and applies preferences
- [ ] Personal Vault uses separate encryption key
- [ ] All Vault access logged (audit trail)
- [ ] PII auto-redacted before Vault storage
- [ ] Memory improves retrieval quality (measurable)
- [ ] GDPR-compliant deletion works correctly
- [ ] Documentation complete for all new features
- [ ] Security audit passed for Vault

## Non-Goals for v2.0

- Multi-user support â†’ v5.0
- Plugin system â†’ v2.5.0
- Cloud sync â†’ Never (privacy commitment)
- Mobile app â†’ Web responsive sufficient
- Browser extension â†’ v2.x connectors

## Draft Release Notes

### ragd v2.0.0 - Personal Knowledge Assistant

**Remember everything, securely.**

v2.0 transforms ragd from a document search tool into your personal knowledge assistant.

**What's New:**

- **Long-Term Memory** - ragd remembers your preferences, past searches, and context across sessions
- **User Profiles** - Personalised retrieval adapts to your expertise and interests
- **Personal Vault** - Securely store and search sensitive personal data

**Memory System:**

```bash
# ragd now remembers
ragd memory show
ragd memory search "what did I research last month"

# Your preferences are learned
ragd profile show --behavioural
```

**Personal Vault:**

```bash
# Separate, encrypted store for sensitive data
ragd vault unlock
ragd vault add ~/browser-history.json --type browser_history
ragd vault search "when did I visit that site"

# Full audit trail
ragd vault audit
```

**Security:**

- Separate encryption keys for Library and Vault
- 2-minute auto-lock for Vault (vs 5 for Library)
- Mandatory audit logging for all Vault access
- Auto-PII redaction before storage

**Upgrade Path:**

```bash
# Upgrade from v1.x
pip install --upgrade ragd

# Existing Document Library preserved
# New features opt-in
ragd memory enable
ragd vault init
```

**What's Next:**

v2.x releases will add personal data connectors:
- Browser history import (Chrome, Firefox, Safari)
- Email/chat parsing
- Health record import (FHIR)
- Financial data import

---

## Related Documentation

- [v1.6.0 - Fine-Tuning](./v1.6.0.md) - Prerequisite milestone
- [v2.5.0 - Extensibility](./v2.5.0.md) - Next milestone
- [State-of-the-Art Personal RAG](../research/state-of-the-art-personal-rag.md) - Research basis
- [F-040: Long-Term Memory](../features/planned/F-040-long-term-memory.md)
- [F-041: User Profile Management](../features/planned/F-041-user-profile-management.md)
- [F-044: Personal Information Vault](../features/planned/F-044-personal-vault.md)
- [ADR-0022: Personal Vault Isolation](../decisions/adrs/0022-personal-vault-isolation.md)

---

**Status**: Planned
