# Milestone: v0.3.0 - Advanced Search

Elevating retrieval quality beyond basic semantic search.

## Goal

Implement advanced search capabilities including hybrid retrieval, contextual embeddings, late chunking, and query processing. This milestone transforms ragd from "good enough" retrieval to state-of-the-art quality.

## Theme

**"Find What Matters"** - Better retrieval means better answers.

## Use Cases Addressed

| Use Case | Description | Status |
|----------|-------------|--------|
| Complex Queries | Multi-part questions, comparisons | âœ… Complete |
| Keyword + Semantic | Hybrid search for best of both worlds | âœ… Complete |
| Precision Search | Find exact matches with semantic context | âœ… Complete |

## Features Included

| Feature | Description | Status |
|---------|-------------|--------|
| [F-009](../features/completed/F-009-citation-output.md) | Citation Output | âœ… Complete |
| [F-010](../features/completed/F-010-contextual-retrieval.md) | Contextual Retrieval (Anthropic-style) | âœ… Complete |
| [F-011](../features/completed/F-011-late-chunking.md) | Late Chunking (JinaAI) | âœ… Complete |
| [F-012](../features/completed/F-012-hybrid-search.md) | Hybrid Search (BM25 + Dense) | âœ… Complete |
| Query Decomposition | Break complex queries into sub-queries | ðŸ“… Deferred v0.4+ |
| Reranking | Cross-encoder reranking for precision | ðŸ“… Deferred v0.4+ |

## Dependencies

- **v0.2.0** - Killer Feature must be complete

## Technology Stack

| Component | Technology |
|-----------|------------|
| BM25 Retrieval | rank-bm25 or ChromaDB sparse |
| Reranking | BAAI/bge-reranker-v2-m3 |
| Late Chunking | JinaAI embeddings |
| Query Processing | Local LLM (Ollama) |

## Success Criteria

- [x] Hybrid search improves retrieval quality by 10-15%
- [x] Contextual retrieval improves NDCG@10 by 20%+
- [x] Late chunking preserves cross-chunk context
- [x] Citation output in multiple formats (APA, MLA, Chicago, BibTeX, Inline, Markdown)
- [x] Performance remains acceptable (< 500ms for 10K docs)

## Non-Goals for v0.3

- Multi-modal (images) â†’ v0.4
- Chat/LLM integration â†’ v0.5
- Web UI â†’ v1.0

## Draft Release Notes

### ragd v0.3.0 - Advanced Search

**Find what matters.**

Retrieval quality matters. v0.3 brings state-of-the-art search techniques to your personal knowledge base.

**New Features:**

- **Hybrid Search** - Combine keyword (BM25) and semantic search with RRF
- **Contextual Retrieval** - Anthropic-style document context in chunks via Ollama
- **Late Chunking** - Context-aware embeddings with full document context
- **Citation Output** - Multiple academic formats (APA, MLA, Chicago, BibTeX, Inline, Markdown)

**Performance:**

Expect 15-20% improvement in retrieval quality over v0.2.

**Getting Started:**

```bash
# Default now uses hybrid search
ragd search "compare authentication methods for REST APIs"

# Force specific retrieval mode
ragd search "JWT token" --mode keyword
ragd search "how does auth work" --mode semantic
```

**What's Next:**

v0.4 adds multi-modal support: search your images and diagrams.

---

## Related Documentation

- [v0.2.0 - Killer Feature](./v0.2.0.md) - Prerequisite milestone
- [State-of-the-Art RAG](../research/state-of-the-art-rag.md)
- [F-009: Citation Output](../features/completed/F-009-citation-output.md)
- [F-010: Contextual Retrieval](../features/completed/F-010-contextual-retrieval.md)
- [F-011: Late Chunking](../features/completed/F-011-late-chunking.md)
- [F-012: Hybrid Search](../features/completed/F-012-hybrid-search.md)

---

**Status**: Released
